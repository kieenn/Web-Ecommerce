{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %} {% endblock %}</title>
    <link
      rel="icon"
      type="image/x-icon"
      href="{% static 'images/icon-title.png' %}"
    />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"
    ></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/MaterialDesign-Webfont/5.3.45/css/materialdesignicons.css"
      integrity="sha256-NAxhqDvtY0l4xn+YVa6WjAcmd94NNfttjNsDmNatFVc="
      crossorigin="anonymous"
    />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
  </head>
  <body>
    <header>
      <div class="container">
        <nav
          class="navbar navbar-expand-lg navbar-dark"
          style="background-color: #333 !important"
        >
          <a class="navbar-brand" href="/"
            ><strong>Kiien's Store</strong></a
          >
          <input class="search-box" type="text" placeholder="search" />
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainNav"
            aria-controls="mainNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="mainNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item {% block home %} {% endblock %}">
                <a class="nav-link" href="/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="/shop"> Shop </a>
              </li>
              <li class="nav-item {% block cart %} {% endblock %}"></li>
                <a class="nav-link cart-link" href="/cart/">
                  <i class="fa fa-shopping-cart" style="font-size: 24px"></i>
                  <span class="badge bg-warning text-dark">3</span></a
                >
              <li class="nav-item {% block about %} {% endblock %}">
                <a class="nav-link" href="/about">About</a>
              </li>
              <li class="nav-item {% block contact %} {% endblock %}">
                <a class="nav-link" href="/contact">Contact</a>
              </li>
              
              <li class="nav-item dropdown {% block account %} {% endblock %}" id="accountDropdownContainer" style="display: none;">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="accountDropdown"
                  role="button"
                  data-bs-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"
                >
                  <i class="fa fa-user" style="font-size: 24px"></i>
                </a>
                <div
                  class="dropdown-menu"
                  aria-labelledby="accountDropdown"
                  style="
                    border: none;
                    border-radius: 8px;
                    box-shadow: 0 2px 4px rgba(0, 0, 0.1, 0.1);
                  "
                >
                  <a class="dropdown-item" href="#">Profile</a>
                  <a class="dropdown-item" href="#">Orders</a>
                  <hr class="dropdown-divider" />
                  <a
                    id="logout-button"
                    class="dropdown-item"
                    href="/logout/"
                    >Logout</a
                  >
                </div>
              </li>
              <li class="nav-item {% block login %} {% endblock %}" id="loginItem">
                <a class="nav-link" href="/login/">Login</a>
              </li>
              <script>
                $(document).ready(function() {
                  const clientId = localStorage.getItem('client');
                  if (clientId) {
                    $('#accountDropdownContainer').show();
                    $('#loginItem').hide();
                  } else {
                    $('#accountDropdownContainer').hide();
                    $('#loginItem').show();
                  }
                });
              </script>
            </ul>
          </div>
        </nav>
      </div>
    </header>
    {% block content %} {% endblock %}
    <footer class="py-4 bg-dark text-white text-center">
      <div class="container">
        <p>Â© 2024 Clothing Store. All Rights Reserved.</p>
      </div>
    </footer>
  </body>
</html>
